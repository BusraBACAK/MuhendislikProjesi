<!DOCTYPE html>
<html lang="en">
  <head onload="load()">
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
     <link rel="stylesheet" href="src/css/style.css">
         
  </head>
  <body>
  <div id="app">

    <nav class="navbar navbar-toggleable-md navbar-light bg-primary">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="index.html" style="color: white;">Araba Kirala</a>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="index.html" style="color: white;">Anasayfa <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="ilanver.html" style="color: white;">İlan Ver</a>
      </li>
    </ul>

  </div>
</nav>



<div class="container">

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" role="listbox">
  <div class="carousel-item active">
      <img class="d-block img-fluid" src="http://www.resimistanbul.com/wp-content/uploads/2016/03/RESIM-ISTANBUL-WEB-ANA-SLIDER2.jpg" alt="First slide">
    </div>
    <div class="carousel-item" v-for='(car,index) in cars'>
      <img class="d-block img-fluid" v-bind:src="car.resim" alt="First slide">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>



<div class="sonuc"> </div>
  <div class="card">
  <div class="card-header">
    İlan Listesi
  </div>
   <table class="table table-bordered" style="margin-top: 15px;">
  <thead>
    <tr>
      <th>#</th>
      <th>Marka</th>
      <th>model</th>
      <th>KM</th>
       <th>İşlem</th>
    </tr>
  </thead>
  <tbody class="body">
   <tr v-for='car in cars'>
     <th scope="row" >{{car.id}}</th>
     <td>{{car.marka}}</td>
     <td>{{car.model}}</td>
     <td>{{car.km}}</td>
     <td>
     <button type="button" class="btn btn-danger" v-on:click="deleteCar(car.id)" style="margin-left: 5px;">Sil</button>

     </td>
      </tr>
  </tbody>
</table>
</div>


</div>


    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.5"></script>
<script type="text/javascript" src="src/js/main.js"></script>
   
</div>

  </body>

<!-- 
<script type="text/javascript">


function celarTable()
{
   for (var i = 1, len = $('tr').length; i < len; i++) {
$('tr')[i].remove();

   }
}
function del(id)
{

  

var settings = {
  "async": true,
  "crossDomain": true,
  "url": "http://127.0.0.1:8081/cars?id="+id,
  "method": "DELETE",
  "headers": {
    "content-type": "application/json"
  }
}

$.ajax(settings).done(function (response) {
  console.log(response);
});
}
   $(document).ready(function(){




var settings = {
  "async": true,
  "crossDomain": true,
  "url": "http://127.0.0.1:8081/cars",
  "method": "GET",
  "headers": {
    "content-type": "application/json"
  }
}

$.ajax(settings).done(function (response) {
  for (var i = 0, len = response.length; i < len; i++) {
        $( ".body" ).append( " <tr>"+
      "<th scope=\"row\" >"+response[i].id+"</th>"+
      "<td>"+response[i].marka+"</td>"+
      "<td>"+response[i].model+"</td>"+
     "<td>"+response[i].km+"</td>"+
     "<td><button type=\"button\" class=\"btn btn-danger\" onClick=\"del("+response[i].id+");$(this).closest('tr').remove()\" style=\"margin-left: 5px;\">Sil</button></td>"+

    "</tr>" );
    }
});


 $("#bul").on('click', function(){
   celarTable();

  var settings = {
  "async": true,
  "crossDomain": true,
  "url": "http://127.0.0.1:8081/cars/search?s="+ $("#searchinp").val(),
  "method": "GET",
  "headers": {
    "content-type": "application/json"
  }
}
$.ajax(settings).done(function (response) {

  for (var i = 0, len = response.length; i < len; i++) {
       
        $( ".body" ).append( " <tr>"+
      "<th scope=\"row\" >"+response[i].id+"</th>"+
      "<td>"+response[i].marka+"</td>"+
      "<td>"+response[i].model+"</td>"+
     "<td>"+response[i].km+"</td>"+
     "<td><button type=\"button\" class=\"btn btn-danger\" onClick=\"del("+response[i].id+");$(this).closest('tr').remove()\" style=\"margin-left: 5px;\">Sil</button></td>"+

    "</tr>" );


    }
    if(response.length>0){
 $( ".sonuc" ).append( "<div class=\"alert alert-success\" role=\"alert\" style=\"margin-top: 10px;\">"+
 "<strong>Arama Sonuçları!</strong> Toplam "+response.length +" sonuç bulundu.</div>");
}else {
 $( ".sonuc" ).append( "<div class=\"alert alert-danger\" role=\"alert\" style=\"margin-top: 10px;\">"+
 "<strong>Arama Sonuçları!</strong> Sonuç Bulunamadı.</div>");

}
});

        });



 });
</script>
 -->

</html>